# DuckDB Analytics - Secrets Configuration Template
# 
# This file contains credentials for protected data sources.
# Keep this file in .gitignore and use environment variables for sensitive values.
#
# Usage:
#   1. Copy this file to your project directory
#   2. Set environment variables for sensitive values
#   3. Reference in requests with: "secrets_file": "/path/to/secrets.yaml"

secrets:
  # ==========================================================================
  # PostgreSQL Database
  # ==========================================================================
  postgres_example:
    type: postgres
    host: localhost
    port: 5432
    user: postgres
    password: "${PGPASSWORD}"  # Set: export PGPASSWORD="your_password"
    database: mydb
    schema: public

  # ==========================================================================
  # MySQL Database
  # ==========================================================================
  mysql_example:
    type: mysql
    host: localhost
    port: 3306
    user: root
    password: "${MYSQL_PASSWORD}"  # Set: export MYSQL_PASSWORD="your_password"
    database: mydb

  # ==========================================================================
  # AWS S3
  # ==========================================================================
  s3_example:
    type: s3
    key_id: "${AWS_ACCESS_KEY_ID}"
    secret: "${AWS_SECRET_ACCESS_KEY}"
    region: us-east-1
    # Optional: Restrict to specific bucket/prefix
    # scope: "s3://my-bucket/*"
    # Optional: Custom endpoint (for S3-compatible services)
    # endpoint: "https://s3.custom-endpoint.com"

  # ==========================================================================
  # Google Cloud Storage
  # ==========================================================================
  gcs_example:
    type: gcs
    key_id: "${GCS_KEY_ID}"
    secret: "${GCS_SECRET}"
    region: us-central1
    # Optional: Restrict to specific bucket
    # scope: "gs://my-bucket/*"

  # ==========================================================================
  # Azure Blob Storage
  # ==========================================================================
  
  # Option 1: Account Key authentication
  azure_key_example:
    type: azure
    account_name: mystorageaccount
    account_key: "${AZURE_STORAGE_KEY}"

  # Option 2: Connection String
  # azure_connstr_example:
  #   type: azure
  #   connection_string: "${AZURE_CONNECTION_STRING}"

  # Option 3: Service Principal (Azure AD)
  # azure_sp_example:
  #   type: azure
  #   account_name: mystorageaccount
  #   tenant_id: "12345678-1234-1234-1234-123456789012"
  #   client_id: "abcdef12-3456-7890-abcd-ef1234567890"
  #   client_secret: "${AZURE_CLIENT_SECRET}"
  #   provider: service_principal

  # Option 4: Managed Identity (Azure-hosted apps)
  # azure_managed_example:
  #   type: azure
  #   account_name: mystorageaccount
  #   provider: managed_identity

  # ==========================================================================
  # Cloudflare R2
  # ==========================================================================
  r2_example:
    type: r2
    key_id: "${R2_ACCESS_KEY_ID}"
    secret: "${R2_SECRET_ACCESS_KEY}"
    account_id: "${R2_ACCOUNT_ID}"
    # Optional: Restrict to specific bucket
    # scope: "r2://my-bucket/*"

  # ==========================================================================
  # HTTP/HTTPS Authentication
  # ==========================================================================
  
  # Bearer Token authentication
  http_bearer_example:
    type: http
    bearer_token: "${HTTP_BEARER_TOKEN}"

  # Custom Headers
  # http_headers_example:
  #   type: http
  #   extra_http_headers:
  #     Authorization: "Bearer ${API_TOKEN}"
  #     X-Custom-Header: "custom-value"

  # HTTP Proxy configuration
  # http_proxy_example:
  #   type: http
  #   http_proxy: "http://proxy.example.com:8080"
  #   http_proxy_username: "proxy_user"
  #   http_proxy_password: "${PROXY_PASSWORD}"

  # ==========================================================================
  # HuggingFace Hub
  # ==========================================================================
  huggingface_example:
    type: huggingface
    token: "${HF_TOKEN}"
    # Alternative: Use credential chain
    # provider: credential_chain

  # ==========================================================================
  # Iceberg REST Catalog
  # ==========================================================================
  
  # Bearer Token authentication
  # iceberg_token_example:
  #   type: iceberg
  #   token: "${ICEBERG_TOKEN}"

  # OAuth2 with Client Credentials
  # iceberg_oauth_example:
  #   type: iceberg
  #   client_id: "admin"
  #   client_secret: "${ICEBERG_CLIENT_SECRET}"
  #   oauth2_server_uri: "https://catalog.example.com/oauth/tokens"
  #   oauth2_scope: "iceberg"

  # ==========================================================================
  # DuckLake
  # ==========================================================================
  # ducklake_example:
  #   type: ducklake
  #   metadata_path: "metadata.db"  # or "postgres:dbname=mydb" for PostgreSQL catalog
  #   data_path: "s3://my-datalake/data/"
  #   metadata_parameters:
  #     TYPE: postgres
  #     SECRET: postgres_example

# ==========================================================================
# Global Options (optional)
# ==========================================================================
options:
  # Whether to persist secrets to disk (default: false for security)
  persist: false
